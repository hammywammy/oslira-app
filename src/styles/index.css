/**
 * ============================================================================
 * OSLIRA BASE STYLES V3.0
 * ============================================================================
 * 
 * Import order:
 * 1. Theme tokens (CSS variables)
 * 2. Tailwind base/utilities
 * 3. Global resets and typography
 * ============================================================================
 */

/* THEME SYSTEM - Must be first */
@import './theme.css';

/* TAILWIND DIRECTIVES */
@import 'tailwindcss';

/* ============================================================================
   GLOBAL RESET & BASE STYLES
   ============================================================================ */

@layer base {
  /* Box Sizing Reset */
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  /* Root Element */
  html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  /* Body - Uses semantic tokens */
  body {
    margin: 0;
    padding: 0;
    font-family: var(--font-sans);
    font-size: var(--font-size-base);
    line-height: var(--line-height-normal);
    color: var(--foreground);
    background-color: var(--background);
    transition: background-color var(--duration-normal) var(--easing-default),
                color var(--duration-normal) var(--easing-default);
  }

  /* Typography - Uses semantic tokens */
  h1, h2, h3, h4, h5, h6 {
    margin: 0;
    font-weight: var(--font-weight-semibold);
    line-height: var(--line-height-tight);
    color: var(--foreground);
  }

  h1 {
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    letter-spacing: -0.02em;
  }

  h2 {
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-semibold);
    letter-spacing: -0.01em;
    line-height: var(--line-height-snug);
  }

  h3 {
    font-size: var(--font-size-2xl);
    line-height: 1.333;
  }

  h4 {
    font-size: var(--font-size-xl);
    line-height: 1.4;
  }

  p {
    margin: 0;
    line-height: var(--line-height-normal);
  }

  /* Links - Uses semantic primary color */
  a {
    color: var(--primary);
    text-decoration: none;
    transition: color var(--duration-normal) var(--easing-default);
  }

  a:hover {
    opacity: 0.8;
  }

  /* Lists */
  ul, ol {
    margin: 0;
    padding: 0;
    list-style: none;
  }

  /* Buttons - Reset */
  button {
    font-family: inherit;
    cursor: pointer;
    border: none;
    background: none;
    padding: 0;
  }

  /* Inputs - Reset */
  input,
  textarea,
  select {
    font-family: inherit;
    font-size: inherit;
  }

  /* Remove default focus styles (we use ring utilities) */
  :focus {
    outline: none;
  }

  /* Images */
  img {
    max-width: 100%;
    height: auto;
    display: block;
  }

  /* Code */
  code {
    font-family: var(--font-mono);
    font-size: 0.875em;
    padding: 0.125rem 0.25rem;
    background-color: var(--muted);
    color: var(--muted-foreground);
    border-radius: var(--radius-sm);
  }

  pre {
    font-family: var(--font-mono);
    font-size: 0.875rem;
    line-height: 1.7;
    overflow-x: auto;
    padding: 1rem;
    background-color: var(--muted);
    border-radius: var(--radius-md);
  }

  pre code {
    background: none;
    padding: 0;
  }
}

/* ============================================================================
   CUSTOM UTILITIES
   ============================================================================ */

@layer utilities {
  /* Smooth transitions for theme switching */
  .theme-transition {
    transition: background-color var(--duration-normal) var(--easing-default),
                color var(--duration-normal) var(--easing-default),
                border-color var(--duration-normal) var(--easing-default);
  }

  /* Focus visible (keyboard navigation) */
  .focus-ring {
    outline: none;
  }

  .focus-ring:focus-visible {
    outline: 2px solid var(--ring);
    outline-offset: 2px;
  }

  /* Container widths */
  .container-narrow {
    max-width: 640px;
    margin-left: auto;
    margin-right: auto;
  }

  .container-default {
    max-width: 1024px;
    margin-left: auto;
    margin-right: auto;
  }

  .container-wide {
    max-width: 1280px;
    margin-left: auto;
    margin-right: auto;
  }
}
